version: 1.0.0

events:
  build:
    steps:
      # If you have build instructions, put them here. They are not required.
      - build_site:
          script:
            - touch docroot/index.html
            - echo "Pipelines examples 701. You successfully deployed your build to an ODE" > docroot/index.html

      # Deploy the build artifact to a Cloud on-demand environment.
      - deploy:
          script:
            - pipelines-deploy

  pr-merged:
    steps:
      # When a pull request is merged, delete the coresponding ODE.
      - deploy:
          script:
            - pipelines-deploy

  pr-closed:
    steps:
      # When a pull request is closed w/o merge, delete the coresponding ODE.
      - deploy:
          script:
            - pipelines-deploy
